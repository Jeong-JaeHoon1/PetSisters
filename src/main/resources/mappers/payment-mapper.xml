<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "mybatis-3-mapper.dtd" >
<mapper namespace="paymentMapper">

	<resultMap id="paymentResultSet" type="payment">
		<result column="PAY_NO" property="payNo" />
		<result column="PAY_DATE" property="payDate" />
		<result column="PAY_DESCRIPTION" property="payDscpt" />
		<result column="PAY_PRICE" property="payPrice" />
		<result column="STATUS" property="status" />
		<result column="REF_RESNO" property="refResno" />
	</resultMap>
	
	<insert id="processPayment" parameterType="payment">
		INSERT INTO PAYMENT(PAY_NO, PAY_DATE, PAY_DESCRIPTION, PAY_PRICE, STATUS, REF_RESNO)
			  VALUES(SEQ_PAYMENT.NEXTVAL
			  	   , TO_CHAR(PAY_DATE, 'YYYY-MM-DD') AS "PAY_DATE" 
			  	   , #{payDscpt}
			  	   , #{payPrice}
			  	   , #{status}
			  	   , #{refResno})
	</insert>
	
</mapper>